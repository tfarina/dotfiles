# -*- mode: sh; -*-

export GIT_PS1_SHOWDIRTYSTATE=1

# Sexy Solarized Bash Prompt, inspired by "Extravagant Zsh Prompt"
# Screenshot: http://img.gf3.ca/d54942f474256ec26a49893681c49b5a.png
# http://seanponeil.com/blog/2012/09/13/sexy-solarized-bash-prompt/

if [[ $COLORTERM = gnome-* && $TERM = xterm ]]  && infocmp gnome-256color >/dev/null 2>&1; then
  export TERM='gnome-256color';
elif infocmp rxvt-unicode-256color >/dev/null 2>&1; then
  export TERM='rxvt-unicode';
elif infocmp xterm-256color >/dev/null 2>&1; then
  export TERM='xterm-256color';
fi

if tput setaf 1 &> /dev/null; then
    tput sgr0
    BOLD=$(tput bold)
    RESET=$(tput sgr0)
    if [[ $(tput colors) -ge 256 ]] 2>/dev/null; then
	BASE03=$(tput setaf 234)
	BASE02=$(tput setaf 235)
	BASE01=$(tput setaf 240)
	BASE00=$(tput setaf 241)
	BASE0=$(tput setaf 244)
	BASE1=$(tput setaf 245)
	BASE2=$(tput setaf 254)
	BLUE=$(tput setaf 33)
	CYAN=$(tput setaf 37)
	VIOLET=$(tput setaf 61)
	GREEN=$(tput setaf 64)
	MAGENTA=$(tput setaf 125)
	YELLOW=$(tput setaf 136)
	RED=$(tput setaf 160)
	ORANGE=$(tput setaf 166)
	WHITE=$(tput setaf 230)
    else
	BASE03=$(tput setaf 8)
	BASE02=$(tput setaf 0)
	BASE01=$(tput setaf 10)
	BASE00=$(tput setaf 11)
	BASE0=$(tput setaf 12)
	BASE1=$(tput setaf 14)
	BASE2=$(tput setaf 7)
	RED=$(tput setaf 1)
	GREEN=$(tput setaf 2)
	YELLOW=$(tput setaf 3)
	BLUE=$(tput setaf 4)
	MAGENTA=$(tput setaf 5)
	CYAN=$(tput setaf 6)
	ORANGE=$(tput setaf 9)
	VIOLET=$(tput setaf 13)
	WHITE=$(tput setaf 15)
    fi
else
    BOLD=""
    RESET="\033[m"
    MAGENTA="\033[1;31m"
    GREEN="\033[1;32m"
    ORANGE="\033[1;33m"
    YELLOW="\033[1;33m"
    BLUE="\033[1;34m"
    PURPLE="\033[1;35m"
    CYAN="\033[1;36m"
    WHITE="\033[1;37m"
fi

#
# Prompt format:
#
# USER at MACHINE in DIRECTORY (BRANCH STATE)
# $ COMMAND
#
PS1="\[${CYAN}\]\u"; # username
PS1+="\[${WHITE}\] at ";
PS1+="\[${GREEN}\]\h"; # hostname
PS1+="\[${WHITE}\] in ";
PS1+="\[${BLUE}\]\w"; # working directory full path
PS1+="\[${YELLOW}\]\$(__git_ps1) "; # git repository details
PS1+="\n";
PS1+="\[${WHITE}\]\$ \[${RESET}\]"; # `$` (and reset color)
export PS1;
